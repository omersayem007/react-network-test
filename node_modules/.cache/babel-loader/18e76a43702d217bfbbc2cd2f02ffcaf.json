{"ast":null,"code":"var _jsxFileName = \"/home/user/test/network-test/src/network.js\";\nimport React, { Component } from 'react';\nexport default function (ComposedComponent) {\n  class NetworkDetector extends Component {\n    constructor(...args) {\n      super(...args);\n      this.state = {\n        isDisconnected: false\n      };\n\n      this.handleConnectionChange = () => {\n        const condition = navigator.onLine ? 'online' : 'offline';\n\n        if (condition === 'online') {\n          const webPing = setInterval(() => {\n            fetch('//google.com', {\n              mode: 'no-cors'\n            }).then(() => {\n              this.setState({\n                isDisconnected: false\n              }, () => {\n                return clearInterval(webPing);\n              });\n            }).catch(() => this.setState({\n              isDisconnected: true\n            }));\n          }, 2000);\n          return;\n        }\n\n        return this.setState({\n          isDisconnected: true\n        });\n      };\n    }\n\n    componentDidMount() {\n      this.handleConnectionChange();\n      window.addEventListener('online', this.handleConnectionChange);\n      window.addEventListener('offline', this.handleConnectionChange);\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('online', this.handleConnectionChange);\n      window.removeEventListener('offline', this.handleConnectionChange);\n    }\n\n    render() {\n      const isDisconnected = this.state.isDisconnected;\n      return React.createElement(\"div\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 44\n        },\n        __self: this\n      }, isDisconnected && React.createElement(\"div\", {\n        className: \"internet-error\",\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 45\n        },\n        __self: this\n      }, React.createElement(\"p\", {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46\n        },\n        __self: this\n      }, \"Internet connection lost\", console.log(\"is in offline\"))), React.createElement(ComposedComponent, Object.assign({}, this.props, {\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49\n        },\n        __self: this\n      })));\n    }\n\n  }\n\n  return NetworkDetector;\n}","map":{"version":3,"sources":["/home/user/test/network-test/src/network.js"],"names":["React","Component","ComposedComponent","NetworkDetector","state","isDisconnected","handleConnectionChange","condition","navigator","onLine","webPing","setInterval","fetch","mode","then","setState","clearInterval","catch","componentDidMount","window","addEventListener","componentWillUnmount","removeEventListener","render","console","log","props"],"mappings":";AAAA,OAAOA,KAAP,IAAgBC,SAAhB,QAAiC,OAAjC;AAEA,eAAe,UAAUC,iBAAV,EAA6B;AAC1C,QAAMC,eAAN,SAA8BF,SAA9B,CAAwC;AAAA;AAAA;AAAA,WACtCG,KADsC,GAC9B;AACNC,QAAAA,cAAc,EAAE;AADV,OAD8B;;AAAA,WAiBtCC,sBAjBsC,GAiBb,MAAM;AAC7B,cAAMC,SAAS,GAAGC,SAAS,CAACC,MAAV,GAAmB,QAAnB,GAA8B,SAAhD;;AACA,YAAIF,SAAS,KAAK,QAAlB,EAA4B;AAC1B,gBAAMG,OAAO,GAAGC,WAAW,CACzB,MAAM;AACJC,YAAAA,KAAK,CAAC,cAAD,EAAiB;AACpBC,cAAAA,IAAI,EAAE;AADc,aAAjB,CAAL,CAGCC,IAHD,CAGM,MAAM;AACV,mBAAKC,QAAL,CAAc;AAAEV,gBAAAA,cAAc,EAAE;AAAlB,eAAd,EAAyC,MAAM;AAC7C,uBAAOW,aAAa,CAACN,OAAD,CAApB;AACD,eAFD;AAGD,aAPD,EAOGO,KAPH,CAOS,MAAM,KAAKF,QAAL,CAAc;AAAEV,cAAAA,cAAc,EAAE;AAAlB,aAAd,CAPf;AAQD,WAVwB,EAUtB,IAVsB,CAA3B;AAWA;AACD;;AAED,eAAO,KAAKU,QAAL,CAAc;AAAEV,UAAAA,cAAc,EAAE;AAAlB,SAAd,CAAP;AACD,OAnCqC;AAAA;;AAKtCa,IAAAA,iBAAiB,GAAG;AAClB,WAAKZ,sBAAL;AACAa,MAAAA,MAAM,CAACC,gBAAP,CAAwB,QAAxB,EAAkC,KAAKd,sBAAvC;AACAa,MAAAA,MAAM,CAACC,gBAAP,CAAwB,SAAxB,EAAmC,KAAKd,sBAAxC;AACD;;AAEDe,IAAAA,oBAAoB,GAAG;AACrBF,MAAAA,MAAM,CAACG,mBAAP,CAA2B,QAA3B,EAAqC,KAAKhB,sBAA1C;AACAa,MAAAA,MAAM,CAACG,mBAAP,CAA2B,SAA3B,EAAsC,KAAKhB,sBAA3C;AACD;;AAuBDiB,IAAAA,MAAM,GAAG;AAAA,YACClB,cADD,GACoB,KAAKD,KADzB,CACCC,cADD;AAEP,aACE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACIA,cAAc,IAAK;AAAK,QAAA,SAAS,EAAC,gBAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SACjB;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,qCAA4BmB,OAAO,CAACC,GAAR,CAAY,eAAZ,CAA5B,CADiB,CADvB,EAKE,oBAAC,iBAAD,oBAAuB,KAAKC,KAA5B;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,SALF,CADF;AASD;;AAhDqC;;AAmDxC,SAAOvB,eAAP;AACD","sourcesContent":["import React, { Component } from 'react';\n\nexport default function (ComposedComponent) {\n  class NetworkDetector extends Component {\n    state = {\n      isDisconnected: false\n    }\n\n    componentDidMount() {\n      this.handleConnectionChange();\n      window.addEventListener('online', this.handleConnectionChange);\n      window.addEventListener('offline', this.handleConnectionChange);\n    }\n\n    componentWillUnmount() {\n      window.removeEventListener('online', this.handleConnectionChange);\n      window.removeEventListener('offline', this.handleConnectionChange);\n    }\n\n\n    handleConnectionChange = () => {\n      const condition = navigator.onLine ? 'online' : 'offline';\n      if (condition === 'online') {\n        const webPing = setInterval(\n          () => {\n            fetch('//google.com', {\n              mode: 'no-cors',\n              })\n            .then(() => {\n              this.setState({ isDisconnected: false }, () => {\n                return clearInterval(webPing)\n              });\n            }).catch(() => this.setState({ isDisconnected: true }) )\n          }, 2000);\n        return;\n      }\n\n      return this.setState({ isDisconnected: true });\n    }\n\n    render() {\n      const { isDisconnected } = this.state;\n      return (\n        <div>\n          { isDisconnected && (<div className=\"internet-error\">\n              <p>Internet connection lost{console.log(\"is in offline\")}</p>\n            </div>)\n          }\n          <ComposedComponent {...this.props} />\n        </div>\n      );\n    }\n  }\n\n  return NetworkDetector;\n}\n"]},"metadata":{},"sourceType":"module"}